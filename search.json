[{"title":"VUE element-ui 写个复用Table组件","url":"https://xiaoniezi.github.io/2017-11-17/vue-ElementUI-tree-table/","content":"<blockquote>\n<p>饿了么的table组件功能很强大，对于项目中的各种表格基本够用，但是……个人对于它<strong>以列为单位</strong>的操作不习惯 =。=所以改成了另一种方式（我不会告诉你其实本质没变）。<br><a id=\"more\"></a></p>\n</blockquote>\n<p><strong>项目中表格较多，所以复用性最重要</strong></p>\n<h2 id=\"步骤一\"><a href=\"#步骤一\" class=\"headerlink\" title=\"步骤一\"></a>步骤一</h2><p>先来个基本的表格展示</p>\n<p>官例的tableData</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\">tableData: [&#123;</div><div class=\"line\">    <span class=\"attr\">date</span>: <span class=\"string\">'2016-05-02'</span>,</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'王小虎'</span>,</div><div class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">'上海市普陀区金沙江路 1518 弄'</span></div><div class=\"line\">&#125;, &#123;</div><div class=\"line\">    <span class=\"attr\">date</span>: <span class=\"string\">'2016-05-04'</span>,</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'王小虎'</span>,</div><div class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">'上海市普陀区金沙江路 1517 弄'</span></div><div class=\"line\">&#125;, &#123;</div><div class=\"line\">    <span class=\"attr\">date</span>: <span class=\"string\">'2016-05-01'</span>,</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'王小虎'</span>,</div><div class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">'上海市普陀区金沙江路 1519 弄'</span></div><div class=\"line\">&#125;, &#123;</div><div class=\"line\">    <span class=\"attr\">date</span>: <span class=\"string\">'2016-05-03'</span>,</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'王小虎'</span>,</div><div class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">'上海市普陀区金沙江路 1516 弄'</span></div><div class=\"line\">&#125;]</div></pre></td></tr></table></figure>\n<p>table.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">el-table</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">border</span>&gt;</span></div><div class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"date\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"日期\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"name\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"姓名\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"address\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"地址\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"步骤二\"><a href=\"#步骤二\" class=\"headerlink\" title=\"步骤二\"></a>步骤二</h2><p>简化一下表格：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">el-table</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">border</span>&gt;</span></div><div class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(item,key) in tableKey\"</span> </span></div><div class=\"line\">    \t<span class=\"attr\">:key</span>=<span class=\"string\">\"key\"</span></div><div class=\"line\">    \t<span class=\"attr\">:prop</span>=<span class=\"string\">\"item.value\"</span></div><div class=\"line\">    \t<span class=\"attr\">:label</span>=<span class=\"string\">\"item.name\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'table'</span>,</div><div class=\"line\">    data()&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span>&#123;</div><div class=\"line\">            <span class=\"attr\">tableData</span>:[...],</div><div class=\"line\">            <span class=\"attr\">tableKey</span>: [&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'日期'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'date'</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'姓名'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'name'</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'地址'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'address'</span></div><div class=\"line\">\t\t\t&#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"步骤三\"><a href=\"#步骤三\" class=\"headerlink\" title=\"步骤三\"></a>步骤三</h2><p>复用<code>table.vue</code>就是————给它数据的同时告诉它我的字段名呗</p>\n<p>新建一个父组件<code>sl_table.vue</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- sl_table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">sl-table</span> <span class=\"attr\">:tableData</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">:tableKey</span>=<span class=\"string\">\"tableKey\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sl-table</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></div><div class=\"line\"><span class=\"keyword\">import</span> Table <span class=\"keyword\">from</span> <span class=\"string\">'@/components/table'</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'sl-table'</span>,</div><div class=\"line\">    data()&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> &#123;</div><div class=\"line\">            <span class=\"attr\">tableData</span>: [...]</div><div class=\"line\">            tableKey: [&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'日期'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'date'</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'姓名'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'name'</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'地址'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'address'</span></div><div class=\"line\">\t\t\t&#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">components</span>: &#123;</div><div class=\"line\">        <span class=\"string\">'sl-table'</span>: Table</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><code>table.vue</code>就更简单了</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">el-table</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">border</span>&gt;</span></div><div class=\"line\">    \t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(item,key) in tableKey\"</span> </span></div><div class=\"line\">    \t<span class=\"attr\">:key</span>=<span class=\"string\">\"key\"</span></div><div class=\"line\">    \t<span class=\"attr\">:prop</span>=<span class=\"string\">\"item.value\"</span></div><div class=\"line\">    \t<span class=\"attr\">:label</span>=<span class=\"string\">\"item.name\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'table'</span>,</div><div class=\"line\">    data()&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span>&#123;</div><div class=\"line\">            </div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">props</span>:[<span class=\"string\">'tableData'</span>,<span class=\"string\">'tableKey'</span>],</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n<h2 id=\"步骤四\"><a href=\"#步骤四\" class=\"headerlink\" title=\"步骤四\"></a>步骤四</h2><p>可以根据需求修改<code>table</code>的形式</p>\n<ol>\n<li><p>列宽度<br>这个较为简单，可以直接加个属性  </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"> <span class=\"comment\">//sl_table.vue</span></div><div class=\"line\"> data()&#123;</div><div class=\"line\">     <span class=\"keyword\">return</span> &#123;</div><div class=\"line\">         <span class=\"attr\">tableData</span>: [...]</div><div class=\"line\">         tableKey: [&#123;</div><div class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">'日期'</span>,</div><div class=\"line\">\t<span class=\"attr\">value</span>: <span class=\"string\">'date'</span>,</div><div class=\"line\">\t<span class=\"attr\">width</span>: <span class=\"number\">80</span></div><div class=\"line\">&#125;,&#123;</div><div class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">'姓名'</span>,</div><div class=\"line\">\t<span class=\"attr\">value</span>: <span class=\"string\">'name'</span>,</div><div class=\"line\">\t<span class=\"attr\">width</span>: <span class=\"number\">80</span></div><div class=\"line\">&#125;,&#123;</div><div class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">'地址'</span>,</div><div class=\"line\">\t<span class=\"attr\">value</span>: <span class=\"string\">'address'</span></div><div class=\"line\">&#125;]</div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;,</div></pre></td></tr></table></figure>\n<p>table.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\">   <span class=\"comment\">&lt;!-- table.vue --&gt;</span></div><div class=\"line\">   ...</div><div class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(item,key) in tableKey\"</span> </span></div><div class=\"line\"><span class=\"attr\">:key</span>=<span class=\"string\">\"key\"</span></div><div class=\"line\"><span class=\"attr\">:prop</span>=<span class=\"string\">\"item.value\"</span></div><div class=\"line\"><span class=\"attr\">:label</span>=<span class=\"string\">\"item.name\"</span></div><div class=\"line\"><span class=\"attr\">:width</span>=<span class=\"string\">\"item.width\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\">   ...</div></pre></td></tr></table></figure>\n</li>\n<li><p>自定义模板列<br> 如果我们需要告诉组件哪个是自定义的列，所以添加一个属性<code>operate</code><br> table.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(item,key) in tableKey\"</span> </span></div><div class=\"line\"><span class=\"attr\">v-if</span>=<span class=\"string\">\"!item.operate\"</span></div><div class=\"line\"><span class=\"attr\">:key</span>=<span class=\"string\">\"key\"</span></div><div class=\"line\"><span class=\"attr\">:prop</span>=<span class=\"string\">\"item.value\"</span></div><div class=\"line\"><span class=\"attr\">:label</span>=<span class=\"string\">\"item.name\"</span></div><div class=\"line\"><span class=\"attr\">:width</span>=<span class=\"string\">\"item.width\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- 自定义 --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-else</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:name</span>=<span class=\"string\">\"item.value\"</span> <span class=\"attr\">:</span>$<span class=\"attr\">index</span>=<span class=\"string\">\"scope.$index\"</span> <span class=\"attr\">:row</span>=<span class=\"string\">\"scope.row\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>sl_table.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- sl_table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sl-table</span> <span class=\"attr\">:tableData</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">:tableKey</span>=<span class=\"string\">\"tableKey\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot</span>=<span class=\"string\">\"date\"</span> <span class=\"attr\">scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123; scope.row.date | DateFilter &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">sl-table</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"javascript\"></span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    data()&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> &#123;</div><div class=\"line\">            <span class=\"attr\">tableData</span>: [...]</div><div class=\"line\">            tableKey: [&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'日期'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'date'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">operate</span>: <span class=\"literal\">true</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'姓名'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'name'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">operate</span>: <span class=\"literal\">false</span></div><div class=\"line\">\t\t\t&#125;,&#123;</div><div class=\"line\">\t\t\t\t<span class=\"attr\">name</span>: <span class=\"string\">'地址'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">value</span>: <span class=\"string\">'address'</span>,</div><div class=\"line\">\t\t\t\t<span class=\"attr\">operate</span>: <span class=\"literal\">false</span></div><div class=\"line\">\t\t\t&#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">filters</span>: &#123;</div><div class=\"line\">        DateFilter()&#123;...&#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>表格展开行<br>类似宽度，只要<code>sl_table.vue</code>传入一个<code>isExpand</code>的属性。这里加个每次只能展开一行的效果： </p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- sl_table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sl-table</span> <span class=\"attr\">:tableData</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">:tableKey</span>=<span class=\"string\">\"tableKey\"</span> <span class=\"attr\">:isExpand</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">:isExpandOnly</span>=<span class=\"string\">\"true\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot</span>=<span class=\"string\">\"expand\"</span> <span class=\"attr\">scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></div><div class=\"line\">        &#123;&#123;...expand something&#125;&#125;</div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    ...</div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">sl-table</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>table.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- table.vue --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-table</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"tableData\"</span> <span class=\"attr\">border</span> @<span class=\"attr\">expand</span>=<span class=\"string\">\"handleExpand\"</span> <span class=\"attr\">ref</span>=<span class=\"string\">\"raw_table\"</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"isExpand\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"expand\"</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">\"expand\"</span> <span class=\"attr\">:</span>$<span class=\"attr\">index</span>=<span class=\"string\">\"scope.$index\"</span> <span class=\"attr\">:row</span>=<span class=\"string\">\"scope.row\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></div><div class=\"line\">...</div><div class=\"line\">props: ['tableData','tableKey','isExpand','isExpandOnly'],</div><div class=\"line\">methods: &#123;</div><div class=\"line\">    handleExpand(row,expanded)&#123;</div><div class=\"line\">        if(this.isExpand &amp;&amp; this.isExpandOnly)&#123;</div><div class=\"line\">           this.$refs.raw_table.store.states.expandRows = expanded ? [row] : [] </div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>其他的（排序、多选）操作也是类似添加。。。多不赘述。</p>\n","categories":["Vue"],"tags":["vue","javascript","elementUI"]},{"title":"VUE饿了么树形控件添加增删改功能","url":"https://xiaoniezi.github.io/2017-10-16/vue-ElementUI-tree-expand/","content":"<blockquote>\n<p>在原文档中有个案例是有新增和删除功能，但是后来发现其修改的数据并不能直接影响到树形数据，所以采用了 <code>render-content</code> 的API重新写了个组件。<br>写个开发的步骤，所以文章比较长emmm<br><a id=\"more\"></a></p>\n</blockquote>\n<p>element-ui树形控件：<a href=\"http://element.eleme.io/1.4/#/zh-CN/component/tree\" target=\"_blank\" rel=\"external\">地址</a></p>\n<p>大致效果如图：<br><img src=\"/images/vue_ex_01.png\" alt=\"例图\"></p>\n<hr>\n<h2 id=\"1-省市API\"><a href=\"#1-省市API\" class=\"headerlink\" title=\"1.省市API\"></a>1.省市API</h2><p>在网上复制了个省市的list，有两个属性是新增的</p>\n<ul>\n<li><code>isEdit</code>：控制编辑状态</li>\n<li><code>maxexpandId</code>：为现下id的最大值</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    <span class=\"attr\">maxexpandId</span>: <span class=\"number\">95</span>,</div><div class=\"line\">    <span class=\"attr\">treelist</span>: [&#123;  </div><div class=\"line\">        <span class=\"attr\">id</span>: <span class=\"number\">1</span>,  </div><div class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">\"北京市\"</span>,  </div><div class=\"line\">        <span class=\"attr\">ProSort</span>: <span class=\"number\">1</span>,  </div><div class=\"line\">        <span class=\"attr\">remark</span>: <span class=\"string\">\"直辖市\"</span>,</div><div class=\"line\">        <span class=\"attr\">pid</span>: <span class=\"string\">''</span>,</div><div class=\"line\">        <span class=\"attr\">isEdit</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">        <span class=\"attr\">children</span>: [&#123;</div><div class=\"line\">    \t\t<span class=\"attr\">id</span>: <span class=\"number\">35</span>,</div><div class=\"line\">    \t\t<span class=\"attr\">name</span>: <span class=\"string\">\"朝阳区\"</span>,</div><div class=\"line\">    \t\t<span class=\"attr\">pid</span>: <span class=\"number\">1</span>,</div><div class=\"line\">    \t\t<span class=\"attr\">remark</span>: <span class=\"string\">''</span>,</div><div class=\"line\">    \t\t<span class=\"attr\">isEdit</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    \t\t<span class=\"attr\">children</span>: []</div><div class=\"line\">    \t&#125;]</div><div class=\"line\">    &#125;&#123;...&#125;]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"2-el-tree-Component基本\"><a href=\"#2-el-tree-Component基本\" class=\"headerlink\" title=\"2.el-tree Component基本\"></a>2.el-tree Component基本</h2><p>咱们一步步来，先写个饿了么的组件</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">el-tree</span> <span class=\"attr\">ref</span>=<span class=\"string\">\"expandMenuList\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"expand-tree\"</span></span></div><div class=\"line\">        <span class=\"attr\">v-if</span>=<span class=\"string\">\"isLoadingTree\"</span></div><div class=\"line\">        <span class=\"attr\">:data</span>=<span class=\"string\">\"setTree\"</span></div><div class=\"line\">        <span class=\"attr\">node-key</span>=<span class=\"string\">\"id\"</span></div><div class=\"line\">        <span class=\"attr\">highlight-current</span></div><div class=\"line\">        <span class=\"attr\">:props</span>=<span class=\"string\">\"defaultProps\"</span></div><div class=\"line\">        <span class=\"attr\">:expand-on-click-node</span>=<span class=\"string\">\"false\"</span></div><div class=\"line\">        <span class=\"attr\">:render-content</span>=<span class=\"string\">\"renderContent\"</span></div><div class=\"line\">        <span class=\"attr\">:default-expanded-keys</span>=<span class=\"string\">\"defaultExpandKeys\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-tree</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\"><span class=\"comment\">&lt;!--</span></div><div class=\"line\">* highlight-current ：为了点击时节点高亮</div><div class=\"line\">* expand-on-click-node : 只能箭头控制树形的展开收缩</div><div class=\"line\">* render-content : 节点渲染方式</div><div class=\"line\">* default-expanded-keys ：默认展开节点</div><div class=\"line\">--&gt;</div></pre></td></tr></table></figure>\n<p>同时引入API和节点渲染的组件</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> TreeRender <span class=\"keyword\">from</span> <span class=\"string\">'@/components/tree_render'</span></div><div class=\"line\"><span class=\"keyword\">import</span> api <span class=\"keyword\">from</span> <span class=\"string\">'@/resource/api'</span></div></pre></td></tr></table></figure>\n<p>然后搭建好基础</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\">data()&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span>&#123;</div><div class=\"line\">    <span class=\"attr\">maxexpandId</span>: api.maxexpandId,<span class=\"comment\">//新增节点开始id</span></div><div class=\"line\">    non_maxexpandId: api.maxexpandId,<span class=\"comment\">//新增节点开始id(不更改)</span></div><div class=\"line\">    isLoadingTree: <span class=\"literal\">false</span>,<span class=\"comment\">//是否加载节点树</span></div><div class=\"line\">    setTree: api.treelist,<span class=\"comment\">//节点树数据</span></div><div class=\"line\">    defaultProps: &#123;</div><div class=\"line\">      <span class=\"attr\">children</span>: <span class=\"string\">'children'</span>,</div><div class=\"line\">      <span class=\"attr\">label</span>: <span class=\"string\">'name'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">defaultExpandKeys</span>: [],<span class=\"comment\">//默认展开节点列表</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;,</div></pre></td></tr></table></figure>\n<p>添加个渲染的method</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\">methods: &#123;</div><div class=\"line\">    renderContent(h,&#123;node,data,store&#125;)&#123;</div><div class=\"line\">      <span class=\"keyword\">let</span> that = <span class=\"keyword\">this</span>;<span class=\"comment\">//指向vue</span></div><div class=\"line\">      <span class=\"keyword\">return</span> h(TreeRender,&#123;</div><div class=\"line\">        <span class=\"attr\">props</span>: &#123;</div><div class=\"line\">          <span class=\"attr\">DATA</span>: data,<span class=\"comment\">//节点数据</span></div><div class=\"line\">          NODE: node,<span class=\"comment\">//节点内容</span></div><div class=\"line\">          STORE: store,<span class=\"comment\">//完整树形内容</span></div><div class=\"line\">        &#125;,</div><div class=\"line\">        <span class=\"attr\">on</span>: &#123;<span class=\"comment\">//绑定方法</span></div><div class=\"line\">          nodeAdd: <span class=\"function\">(<span class=\"params\">(s,d,n</span>) =&gt;</span> that.handleAdd(s,d,n)),</div><div class=\"line\">          <span class=\"attr\">nodeEdit</span>: <span class=\"function\">(<span class=\"params\">(s,d,n</span>) =&gt;</span> that.handleEdit(s,d,n)),</div><div class=\"line\">          <span class=\"attr\">nodeDel</span>: <span class=\"function\">(<span class=\"params\">(s,d,n</span>) =&gt;</span> that.handleDelete(s,d,n))</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;);</div><div class=\"line\">    &#125;,</div><div class=\"line\">    handleAdd(s,d,n)&#123;<span class=\"comment\">//增加节点</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(s,d,n)</div><div class=\"line\">    &#125;,</div><div class=\"line\">    handleEdit(s,d,n)&#123;<span class=\"comment\">//编辑节点</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(s,d,n)</div><div class=\"line\">    &#125;,</div><div class=\"line\">    handleDelete(s,d,n)&#123;<span class=\"comment\">//删除节点</span></div><div class=\"line\">      <span class=\"built_in\">console</span>.log(s,d,n)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"3-tree-render-Component基本\"><a href=\"#3-tree-render-Component基本\" class=\"headerlink\" title=\"3.tree_render Component基本\"></a>3.tree_render Component基本</h2><p>渲染组件：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-expand\"</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-label\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;DATA.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-btn\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-plus\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeAdd(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-edit\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeEdit(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-delete\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeDel(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>添加好几个按钮（element-ui自带icon：<a href=\"http://element.eleme.io/1.4/#/zh-CN/component/icon\" target=\"_blank\" rel=\"external\">地址</a>）对应的方法：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</div><div class=\"line\">    <span class=\"attr\">props</span>: [<span class=\"string\">'NODE'</span>, <span class=\"string\">'DATA'</span>, <span class=\"string\">'STORE'</span>],</div><div class=\"line\">    <span class=\"attr\">methods</span>: &#123;</div><div class=\"line\">      nodeAdd(s,d,n)&#123;<span class=\"comment\">//新增</span></div><div class=\"line\">        <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'nodeAdd'</span>,s,d,n)</div><div class=\"line\">      &#125;,</div><div class=\"line\">      nodeEdit(s,d,n)&#123;<span class=\"comment\">//编辑</span></div><div class=\"line\">        <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'nodeEdit'</span>,s,d,n)</div><div class=\"line\">      &#125;,</div><div class=\"line\">      nodeDel(s,d,n)&#123;<span class=\"comment\">//删除</span></div><div class=\"line\">        <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'nodeDel'</span>,s,d,n)</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"4-改\"><a href=\"#4-改\" class=\"headerlink\" title=\"4.改\"></a>4.改</h2><p>我们用<code>isEdit</code>来切换<code>input</code>和<code>span</code>的显示状态，首先加个input：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- tree_render component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-expand\"</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-label\"</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"DATA.isEdit\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">el-input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"edit\"</span> <span class=\"attr\">size</span>=<span class=\"string\">\"mini\"</span></span></div><div class=\"line\">\t\t\t<span class=\"attr\">:ref</span>=<span class=\"string\">\"'treeInput'+DATA.id\"</span></div><div class=\"line\">\t\t\t<span class=\"attr\">v-model</span>=<span class=\"string\">\"DATA.name\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">v-else</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-label\"</span>&gt;</span></div><div class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;DATA.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-btn\"</span> <span class=\"attr\">v-show</span>=<span class=\"string\">\"!DATA.isEdit\"</span>&gt;</span></div><div class=\"line\">    \t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-plus\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeAdd(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">    \t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-edit\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeEdit(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">    \t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-delete\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeDel(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">    \t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>编辑的时候按钮同时消失，那么什么时候编辑完成呢？</p>\n<ul>\n<li>编辑完按enter键=》监听input的enter输入</li>\n<li>点击其他节点=》input失焦-<code>blur</code>=》编辑时自动聚焦-<code>focus</code></li>\n<li>点击当前节点范围</li>\n</ul>\n<p>当以上三点发生一项，节点对应的data都要<code>isEdit = false;</code></p>\n<ol>\n<li><p>enter键</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- tree_render component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-input</span> @<span class=\"attr\">keyup.enter.native</span>=<span class=\"string\">\"nodeEditPass(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>添加方法：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//tree_render component</span></div><div class=\"line\">methods: &#123;</div><div class=\"line\">    nodeEditPass(s,d,n)&#123;</div><div class=\"line\">        d.isEdit = <span class=\"literal\">false</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p><code>focus or blur</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- tree_render component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-input</span> @<span class=\"attr\">blur</span>=<span class=\"string\">\"nodeEditPass(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>后来发现第一次编辑时能让<code>input</code>聚焦，点击第二个<code>input</code>就不起作用了，加了<code>autofocus</code>属性也同样如此。所以我们要在点击编辑<code>icon</code>的时候，用原生的<code>input autofocus</code>。<br>修改方法：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//tree_render component</span></div><div class=\"line\">nodeEdit(s,d,n)&#123;<span class=\"comment\">//编辑</span></div><div class=\"line\">  d.isEdit = <span class=\"literal\">true</span>;</div><div class=\"line\">  <span class=\"keyword\">this</span>.$nextTick(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.$refs[<span class=\"string\">'treeInput'</span>+d.id].$refs.input.focus()</div><div class=\"line\">  &#125;)</div><div class=\"line\">  <span class=\"keyword\">this</span>.$emit(<span class=\"string\">'nodeEdit'</span>,s,d,n)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p><strong>当前节点</strong>点击<br>采用<code>el-tree</code>已有的API——<code>node-click</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- el-tree component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-tree</span> @<span class=\"attr\">node-click</span>=<span class=\"string\">\"handleNodeClick\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-tree</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>添加methods：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//el-tree component</span></div><div class=\"line\">methods: &#123;</div><div class=\"line\">    handleNodeClick(d,n,s)&#123;<span class=\"comment\">//点击节点</span></div><div class=\"line\">      d.isEdit = <span class=\"literal\">false</span>;<span class=\"comment\">//放弃编辑状态</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>问题来了，如果在编辑状态下点击此节点也同样会影响input，这就无法进入编辑，所以要阻止input<strong>事件冒泡</strong>：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- tree_render component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-input</span> @<span class=\"attr\">click.stop.native</span>=<span class=\"string\">\"nodeEditFocus\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>添加methods：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//tree_render component</span></div><div class=\"line\">methods: &#123;</div><div class=\"line\">    nodeEditFocus()&#123;&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p><code>v-show</code>代替<code>v-if</code></p>\n<p>这里有个新的问题，当用户经常编辑修改，<code>v-if</code>模板的开销更高，所以改用v-show。而后者不支持template模板，所以要适当调整一下位置：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-expand\"</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-label\"</span> <span class=\"attr\">v-show</span>=<span class=\"string\">\"DATA.isEdit\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">el-input</span> <span class=\"attr\">class</span>=<span class=\"string\">\"edit\"</span> <span class=\"attr\">size</span>=<span class=\"string\">\"mini\"</span> <span class=\"attr\">autofocus</span></span></div><div class=\"line\">\t\t\t<span class=\"attr\">v-model</span>=<span class=\"string\">\"DATA.name\"</span></div><div class=\"line\">\t\t\t<span class=\"attr\">:ref</span>=<span class=\"string\">\"'treeInput'+DATA.id\"</span></div><div class=\"line\">\t\t\t@<span class=\"attr\">click.stop.native</span>=<span class=\"string\">\"nodeEditFocus\"</span></div><div class=\"line\">\t\t\t@<span class=\"attr\">blur</span>=<span class=\"string\">\"nodeEditPass(STORE,DATA,NODE)\"</span></div><div class=\"line\">\t\t\t@<span class=\"attr\">keyup.enter.native</span>=<span class=\"string\">\"nodeEditPass(STORE,DATA,NODE)\"</span>&gt;<span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-show</span>=<span class=\"string\">\"!DATA.isEdit\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;DATA.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"tree-btn\"</span> <span class=\"attr\">v-show</span>=<span class=\"string\">\"!DATA.isEdit\"</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-plus\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeAdd(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-edit\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeEdit(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-icon-delete\"</span> @<span class=\"attr\">click.stop</span>=<span class=\"string\">\"nodeDel(STORE,DATA,NODE)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></div><div class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"5-增\"><a href=\"#5-增\" class=\"headerlink\" title=\"5.增\"></a>5.增</h2><p>新增节点 =》添加一条数据</p>\n<ol>\n<li>新增的同时展开父节点</li>\n<li>是否考虑无限新增</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//el-tree component</span></div><div class=\"line\">handleAdd(s,d,n)&#123;<span class=\"comment\">//增加节点</span></div><div class=\"line\">  <span class=\"built_in\">console</span>.log(s,d,n)</div><div class=\"line\">  <span class=\"keyword\">if</span>(n.level &gt;=<span class=\"number\">6</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.$message.error(<span class=\"string\">\"最多只支持五级！\"</span>)</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"comment\">//添加数据</span></div><div class=\"line\">  d.children.push(&#123;</div><div class=\"line\">    <span class=\"attr\">id</span>: ++<span class=\"keyword\">this</span>.maxexpandId,</div><div class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">'新增节点'</span>,</div><div class=\"line\">    <span class=\"attr\">pid</span>: d.id,</div><div class=\"line\">    <span class=\"attr\">isEdit</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">children</span>: []</div><div class=\"line\">  &#125;);</div><div class=\"line\">  <span class=\"comment\">//展开节点</span></div><div class=\"line\">  <span class=\"keyword\">if</span>(!n.expanded)&#123;</div><div class=\"line\">    n.expanded = <span class=\"literal\">true</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>新增节点字体加粗 =》给节点添加一个class =》 如何判断是否新增？<br>我们有一个参数<code>maxexpandId</code><br>给<code>tree_render</code>添加一个<code>prop</code>：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//el-tree component</span></div><div class=\"line\">renderContent(h,&#123;node,data,store&#125;)&#123;<span class=\"comment\">//加载节点</span></div><div class=\"line\">  <span class=\"keyword\">let</span> that = <span class=\"keyword\">this</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> h(TreeRender,&#123;</div><div class=\"line\">    <span class=\"attr\">props</span>: &#123;</div><div class=\"line\">      ...</div><div class=\"line\">      maxexpandId: that.non_maxexpandId</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">on</span>: &#123;...&#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>根据id判断：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//tree_render component</span></div><div class=\"line\">props: [<span class=\"string\">'NODE'</span>, <span class=\"string\">'DATA'</span>, <span class=\"string\">'STORE'</span>, <span class=\"string\">'maxexpandId'</span>]</div></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- tree_render component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-show</span>=<span class=\"string\">\"!DATA.isEdit\"</span> </span></div><div class=\"line\"><span class=\"attr\">:class</span>=<span class=\"string\">\"[DATA.id &gt; maxexpandId ? 'tree-new tree-label' : 'tree-label']\"</span></div><div class=\"line\"><span class=\"attr\">:ref</span>=<span class=\"string\">\"'treeLabel'+DATA.id\"</span>&gt;</div><div class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;DATA.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.tree-expand</span> <span class=\"selector-class\">.tree-label</span><span class=\"selector-class\">.tree-new</span>&#123;</div><div class=\"line\">    <span class=\"attribute\">font-weight</span>:<span class=\"number\">600</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"6-删\"><a href=\"#6-删\" class=\"headerlink\" title=\"6.删\"></a>6.删</h2><p>跟新增同义：删除节点 =》删除一条数据</p>\n<ol>\n<li>新增节点直接删除</li>\n<li>已有节点需提示再删除</li>\n<li>已有子级节点不能删除</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\">handleDelete(s,d,n)&#123;<span class=\"comment\">//删除节点</span></div><div class=\"line\">  <span class=\"built_in\">console</span>.log(s,d,n)</div><div class=\"line\">  <span class=\"keyword\">let</span> that = <span class=\"keyword\">this</span>;</div><div class=\"line\">  <span class=\"comment\">//有子级不删除</span></div><div class=\"line\">  <span class=\"keyword\">if</span>(d.children &amp;&amp; d.children.length !== <span class=\"number\">0</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.$message.error(<span class=\"string\">\"此节点有子级，不可删除！\"</span>)</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">    <span class=\"comment\">//删除操作</span></div><div class=\"line\">    <span class=\"keyword\">let</span> delNode = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">let</span> list = n.parent.data.children || n.parent.data,</div><div class=\"line\">      <span class=\"comment\">//节点同级数据，顶级节点时无children</span></div><div class=\"line\">        _index = <span class=\"number\">99999</span>;<span class=\"comment\">//要删除的index</span></div><div class=\"line\">      list.map(<span class=\"function\">(<span class=\"params\">c,i</span>) =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>(d.id == c.id)&#123;</div><div class=\"line\">          _index = i;</div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;)</div><div class=\"line\">      <span class=\"keyword\">let</span> k = list.splice(_index,<span class=\"number\">1</span>);</div><div class=\"line\">      <span class=\"comment\">//console.log(_index,k)</span></div><div class=\"line\">      <span class=\"keyword\">this</span>.$message.success(<span class=\"string\">\"删除成功！\"</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">let</span> isDel = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">      that.$confirm(<span class=\"string\">\"是否删除此节点？\"</span>,<span class=\"string\">\"提示\"</span>,&#123;</div><div class=\"line\">        <span class=\"attr\">confirmButtonText</span>: <span class=\"string\">\"确认\"</span>,</div><div class=\"line\">        <span class=\"attr\">cancelButtonText</span>: <span class=\"string\">\"取消\"</span>,</div><div class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">\"warning\"</span></div><div class=\"line\">      &#125;).then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        delNode()<span class=\"comment\">//此处可通过ajax做删除操作</span></div><div class=\"line\">      &#125;).catch(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">      &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//新增节点直接删除，否则要通过请求数据删除</span></div><div class=\"line\">    d.id &gt; <span class=\"keyword\">this</span>.non_maxexpandId ? delNode() : isDel()</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"7-拓展\"><a href=\"#7-拓展\" class=\"headerlink\" title=\"7.拓展\"></a>7.拓展</h2><p>还有一些特别的需求，例如：</p>\n<ol>\n<li><p>点击高亮的时候显示icon</p>\n <figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><div class=\"line\">\t<span class=\"selector-class\">.expand-tree</span> <span class=\"selector-class\">.is-current</span>&gt;<span class=\"selector-class\">.el-tree-node__content</span> <span class=\"selector-class\">.tree-btn</span>,</div><div class=\"line\"><span class=\"selector-class\">.expand-tree</span> <span class=\"selector-class\">.el-tree-node__content</span><span class=\"selector-pseudo\">:hover</span> <span class=\"selector-class\">.tree-btn</span>&#123;</div><div class=\"line\">\t<span class=\"attribute\">display</span>: inline-block;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>添加顶级节点<br>  添加按钮：</p>\n <figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- el-tree component --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-button</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"handleAddTop\"</span>&gt;</span>添加顶级节点<span class=\"tag\">&lt;/<span class=\"name\">el-button</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>添加methods：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//el-tree component</span></div><div class=\"line\">methods: &#123;</div><div class=\"line\">  handleAddTop()&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.setTree.push(&#123;</div><div class=\"line\">      <span class=\"attr\">id</span>: ++<span class=\"keyword\">this</span>.maxexpandId,</div><div class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">'新增节点'</span>,</div><div class=\"line\">      <span class=\"attr\">pid</span>: <span class=\"string\">''</span>,</div><div class=\"line\">      <span class=\"attr\">isEdit</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">      <span class=\"attr\">children</span>: []</div><div class=\"line\">    &#125;)</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>默认展开树形第一级</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//el-tree component</span></div><div class=\"line\">mounted()&#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.initExpand()</div><div class=\"line\">&#125;,</div><div class=\"line\"><span class=\"attr\">methods</span>: &#123;</div><div class=\"line\">  initExpand()&#123;</div><div class=\"line\">    <span class=\"comment\">//isLoadingTree用意也是在此</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.setTree.map(<span class=\"function\">(<span class=\"params\">a</span>) =&gt;</span> &#123;</div><div class=\"line\">      <span class=\"keyword\">this</span>.defaultExpandKeys.push(a.id)</div><div class=\"line\">    &#125;);</div><div class=\"line\">    <span class=\"keyword\">this</span>.isLoadingTree = <span class=\"literal\">true</span>;</div><div class=\"line\">  &#125;,</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"8-github\"><a href=\"#8-github\" class=\"headerlink\" title=\"8.github\"></a>8.github</h2><p>还有些具体的样式都放在<a href=\"https://github.com/xiaoniezi/tree\" target=\"_blank\" rel=\"external\">github</a>了</p>\n<p> <strong>如有错漏，欢迎指正╰(<em> ◕ ▽ ◕ </em>)╯</strong></p>\n","categories":["Vue"],"tags":["vue","javascript","elementUI"]},{"title":"How to git","url":"https://xiaoniezi.github.io/2017-06-22/How-to-git/","content":"<p>这是摘要<br><a id=\"more\"></a></p>\n<h1 id=\"Github远程仓库\"><a href=\"#Github远程仓库\" class=\"headerlink\" title=\"Github远程仓库\"></a>Github远程仓库</h1><h2 id=\"第一步：安装Git\"><a href=\"#第一步：安装Git\" class=\"headerlink\" title=\"第一步：安装Git\"></a>第一步：安装Git</h2><p>1.下载Git：<a href=\"https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-%E5%AE%89%E8%A3%85-Git\" target=\"_blank\" rel=\"external\">国外地址</a>   <a href=\"https://github.com/waylau/git-for-win\" target=\"_blank\" rel=\"external\">国内地址</a><br>2.打开Git目录下的git.cmd，输入：<code>git --version</code>检查是否安装成功</p>\n<h2 id=\"第二步：配置用户\"><a href=\"#第二步：配置用户\" class=\"headerlink\" title=\"第二步：配置用户\"></a>第二步：配置用户</h2><p>打开git.cmd，配置用户名和邮箱(下方以xiaoniezi为例)<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">git config --global user.name <span class=\"string\">\"xiaoniezi\"</span></div><div class=\"line\">git config --global user.email <span class=\"string\">\"123456789@qq.com\"</span></div><div class=\"line\">git config --global push.default matching</div></pre></td></tr></table></figure></p>\n<h2 id=\"第三步：生成ssh\"><a href=\"#第三步：生成ssh\" class=\"headerlink\" title=\"第三步：生成ssh\"></a>第三步：生成ssh</h2><p>1.找到Git目录下的git.bash，进入.ssh目录：<code>cd ~/.ssh</code><br>2.创建密钥：<code>ssh-keygen -t rsa</code>期间会有提示用户输入密钥的名字和密码，并二次确认密码，也可默认为空（下方以snow为例）<br>3.创建完成后查看目录文件：<code>ls -al</code>若出现snow和snow.pub两个文件即创建成功</p>\n<h2 id=\"第四步：添加公钥\"><a href=\"#第四步：添加公钥\" class=\"headerlink\" title=\"第四步：添加公钥\"></a>第四步：添加公钥</h2><p>   1.打开Github，进入用户的Settings的SSH and GPG keys设置选项<br>   2.复制snow.pub公钥的内容，在github上添加SSH keys<br>   3.同时在master分支下创建一个新的Repository（下方以test为例）</p>\n<h2 id=\"第五步：检测密钥\"><a href=\"#第五步：检测密钥\" class=\"headerlink\" title=\"第五步：检测密钥\"></a>第五步：检测密钥</h2><p>1.在git.bash主目录下输入：<code>ssh-add -l</code>若出现下方的提示继续以下步骤，否则跳到第六步<br>2.输入以下命令<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">eval</span> <span class=\"string\">\"<span class=\"variable\">$(ssh-agent -s)</span>\"</span></div><div class=\"line\">ssh-add ~/.ssh/snow</div></pre></td></tr></table></figure></p>\n<p>3.尝试连接github<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">ssh -T git@github.com</div></pre></td></tr></table></figure></p>\n<p>出现以下提示则成功</p>\n<blockquote>\n<p><em>Hi xiaoniezi!You’re successfully authenticated, but Github does not provide shell access.</em></p>\n</blockquote>\n<h2 id=\"第六步：远程仓库\"><a href=\"#第六步：远程仓库\" class=\"headerlink\" title=\"第六步：远程仓库\"></a>第六步：远程仓库</h2><p>1.继续使用git.bash，进入你想与github远程的目录：<code>cd d:/github/snow</code><br>2.初始化：<code>git init</code><br>3.添加当前目录的所有文件：<code>git add .</code><br>4.提交文件：<code>git commit -m &quot;mark something&quot;</code><br>5.远程github：<code>git remote add origin git@github.com:xiaoniezi/test.git</code><br>6.push到test项目下：<code>git push -u origin master</code><br>7.到github的test上即可看到提交的文件</p>\n","categories":["Others"],"tags":["git","github"]},{"title":"Hello World","url":"https://xiaoniezi.github.io/2017-06-22/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","categories":[],"tags":[]},{"title":"about","url":"https://xiaoniezi.github.io/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"https://xiaoniezi.github.io/category/index.html","content":"","categories":[],"tags":[]},{"title":"","url":"https://xiaoniezi.github.io/css/main.css","content":"html,body{\n    position:relative;\n    width:100%;\n    overflow-x:hidden;\n    height:100%;\n    margin:0;\n    padding:0;\n}\n[class^=\"fa-\"]:before, [class*=\"fa-\"]:before{\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1em;\n  margin-left: .2em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/*main page*/\n.content-home hr{\n    /*background-image:linear-gradient(0deg, transparent, #753901, transparent);\n    background-image:-webkit-linear-gradient(bottom, transparent, #753901, transparent);\n    background-image:-webkit-linear-gradient(0deg, transparent, #753901, transparent);*/\n}\n.content-home{\n    margin:0 auto;\n    top:50%;\n    left:50%;\n    width:300px;\n    -webkit-transform:translate(-50%,-50%);\n    -moz-transform:translate(-50%,-50%);\n    -o-transform:translate(-50%,-50%);\n    transform:translate(-50%,-50%);\n}\n.content .item-title.item-title-0:before{\n    background:#ad3;\n}\n.content .item-title.item-title-1:before{\n    background:#e73;\n}\n.content .item-title.item-title-2:before{\n    background:#d55;\n}\n.content .item-title.item-title-3:before{\n    background:#fb3;\n}\n.content .item-title.item-title-4:before{\n    background:#49f;\n}\n.content.content-about .dot.icon{\n    padding:0;\n    text-align:center;\n}\n.content.content-about .dot[class*=\"fa-\"]{\n    font-size:14px;\n}\n.box-prev-next{\n    overflow:hidden;\n    margin:0;\n}\n#SOHUCS #SOHU_MAIN .module-cmt-list .wrap-user-gw .user-address-gw{\n    display:none !important;\n}\n\n@media screen and (min-width:1000px){\n    html.page-home{\n        background-image: url('/images/blog_bg_05.jpg');\n        background-size:100%;\n        background-position:center bottom;\n        background-repeat:no-repeat;\n        background-color:#000;\n    }\n    html.page-archives,\n    html.page-category,\n    html.page-tag{\n        /*background-image:url('/images/blog_bg_04.jpg');*/\n        background-size:100% 100%;\n        background-position:center center;\n        background-repeat:no-repeat;\n    }\n    /*html.page-category{\n        background-image:url('/images/blog_bg_03.jpg');\n    }\n    html.page-tag{\n        background-image:url('/images/blog_bg_06.jpg');\n    }*/\n    .content-home{\n        -webkit-transform:translate(50%,-50%);\n        -moz-transform:translate(50%,-50%);\n        -o-transform:translate(50%,-50%);\n        transform:translate(50%,-50%);\n    }\n    .content{\n      margin-top:80px;\n      border-left-width:3px;\n    }\n    .content-logion{\n        position:absolute;\n        width:50px;\n    }\n    .content-belt{\n        /*background-image:url('/images/blog_bg_title02.png');*/\n    }\n    .page-header .breadcrumb .location{\n        height:80px;\n        line-height:50px;\n        padding-left:30px;\n        color:#419c8c;\n        background-image:url('/images/blog_bg_title.png');\n        background-repeat:no-repeat;\n        background-position:center center;\n        background-size:auto 100%;\n    }\n    .page-header .breadcrumb .location+i{\n        display:none;\n    }\n    .page-header{\n        background:transparent;\n        top:-40px;\n    }\n    /*.page-header .box-blog-info .info .name{\n        color:#795548;\n    }\n    .content .item-year a.text-year,\n    .content .item-category-name{\n        color:#fff;\n    }\n    .content .item-post .post-title{\n        color:#ccc;\n    }\n    .content .item-post .post-title:hover{\n        color:#419c8c;\n    }\n    .content .item-post .post-date{\n        color:#b5b5b5;\n    }*/\n}\n\n/*main page end*/\n\n/*topic page*/\n.toc-article{\n    position:fixed;\n    left:auto;\n    right:150px;\n    font-size:14px;\n    top:100px;\n}\n/*topic page end*/\n\n/*detail page*/\n.content.content-post .article-header .article-meta i{\n    margin-left:10px;\n    margin-right:1px;\n}\n.post-content{\n    width:100%;\n}\n.article-tags{\n    width:100%;\n    padding:20px 0;\n    overflow:hidden;\n}\n.article-tags>.article-tag{\n    display:inline-block;\n    margin-right:10px;\n}\n.post-excerpt{\n    width:100%;\n}\n.article-content .page-forward{\n    width:100%;\n    font-size:0.8em;\n}\n\n/*detail page end*/\n\n\n\n\n","categories":[],"tags":[]},{"title":"search","url":"https://xiaoniezi.github.io/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"https://xiaoniezi.github.io/tag/index.html","content":"","categories":[],"tags":[]}]